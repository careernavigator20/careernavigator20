{% extends 'student/stud-base.html' %}
{% block title %}Student Video Call{% endblock %}
{% block content %}
    <script src="https://meet.jit.si/external_api.js"></script>

    <h1>Jitsi Meet Video Call</h1>
    <div id="jitsi-container" style="width: 100%; height: 600px;"></div>

    <script>
        const domain = "meet.jit.si";
        const options = {
            roomName: "{{ room_name }}",
            width: "100%",
            height: "600px",
            parentNode: document.getElementById("jitsi-container"),
            userInfo: {
                displayName: "Guest User"
            }
        };
        const api = new JitsiMeetExternalAPI(domain, options);

        // Event listeners for the API (optional)
        api.addEventListener('videoConferenceJoined', () => {
            console.log('Video conference joined');
        });

        api.addEventListener('videoConferenceLeft', () => {
            console.log('Video conference left');
        });
    </script>


{% endblock %}
